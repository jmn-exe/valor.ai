<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valor.ai | Match history</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="script.js"></script>
</head>
<body>
    <div class="white-background"></div>
    <div class="body-container">
        <div class="top-header">
            <a href="/upload" class="logo-title">Valor.ai</a>
            <a href="/logout" class="logged-user"><%=username%></a>
        </div>
        <div class="main-body">
            <div class="section-nav">
                <a href="/upload">Upload</a>
                <a href="/summary">Summary</a>
                <a href="" class="current-page">Match history</a>
                <a href="">Learn</a>
            </div>
            <span class="vertical-line"></span>
            <div class="section-summary">
                <div class="section-title">Match history</div>
                <div class="history-container">
                    <table class="history-table">
                        <tr>
                            <th>No.</th>
                            <th>Time/Date</th>
                            <th>Whiff</th>
                            <th>Dry</th>
                            <th>Cross</th>
                            <th>Total</th>
                            <th>Note</th>
                            <th></th>
                        </tr>
                        <% var i = 0 %>
                        <% mistakedata.forEach((row)=>{%>
                        <% i += 1 %>
                        <tr>
                            <td><%= i %></td>
                            <%
                            function pad2(num){
                                return num.toString().padStart(2, '0');
                            }
                                const date = new Date(row.datetime);
                                const datetime = date.getFullYear()+'-'+pad2(date.getMonth())+'-'+pad2(date.getDay())+' '+pad2(date.getHours())+':'+pad2(date.getMinutes());
                            %>
                            <td><%= datetime %></td>
                            <td><%= row.whiff %></td>
                            <td><%= row.drypeek %></td>
                            <td><%= row.crosshair %></td>
                            <td><%= row.whiff + row.drypeek + row.crosshair %></td>
                            <td><%= row.note %></td>
                            <td><button class="delete-match" onclick="">X</button></td>
                        </tr>
                        <%});%>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
</html>